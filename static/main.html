<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Advanced Synthetic Aperture Radar (SAR) monitoring system for planetary observation and analysis">
    <meta name="keywords" content="SAR, radar, planetary monitoring, space exploration, NASA Space Apps Challenge">
    <meta name="author" content="NASA Space Apps Challenge 2025 Team">
    <title>Cosmic Explorer - Professional SAR Monitoring System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/libs/stats.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Roboto+Mono:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Orbitron', sans-serif;
            overflow: hidden;
            background: linear-gradient(180deg, #000011 0%, #001133 100%);
            margin: 0;
        }
        .radar-pulse {
            animation: pulse 2s ease-in-out infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.9; }
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 0.9; }
        }
        .hologram {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(0, 255, 0, 0.1));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 255, 0.3);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.15);
        }
        .neon-text {
            text-shadow: 0 0 10px currentColor, 0 0 20px rgba(0, 255, 255, 0.5);
        }
        .loading-bar {
            background: linear-gradient(90deg, #00f6ff, #00ff6f, #ffd700, #ff00cc);
            background-size: 200%;
            animation: rainbow 3s linear infinite;
        }
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }
        .navbar-glass {
            background: rgba(0, 20, 40, 0.8);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        }
        .control-panel {
            background: rgba(0, 20, 40, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 255, 255, 0.25);
        }
        .speed-indicator {
            background: linear-gradient(90deg, #00ff00, #ffff00, #ff0000);
        }
        .tooltip {
            visibility: hidden;
            background: rgba(0, 0, 0, 0.95);
            border: 1px solid rgba(0, 255, 255, 0.4);
            padding: 8px 12px;
            border-radius: 6px;
            position: absolute;
            z-index: 1000;
            color: #fff;
            font-size: 11px;
            font-family: 'Roboto Mono', monospace;
            white-space: nowrap;
        }
        button:hover .tooltip, .control-item:hover .tooltip {
            visibility: visible;
        }
        .status-online { color: #00ff00; }
        .status-scanning { color: #ffff00; animation: pulse 1s infinite; }
        .status-offline { color: #ff0000; }
    </style>
</head>
<body class="bg-gradient-to-b from-[#000011] to-[#001133] text-white">
    <!-- Navigation Bar -->
    <nav class="fixed top-0 left-0 right-0 z-50 navbar-glass px-6 py-4">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <div onclick="location.href='index.html'" class="cursor-pointer flex items-center">
                    <span class="material-icons text-green-400 mr-3 text-4xl radar-sweep">radar</span>
                    <div>
                        <h1 class="text-2xl font-bold neon-glow text-green-400">COSMORUDDER</h1>
                        <p class="text-xs text-blue-300">Through the Radar Looking Glass | NASA Space Apps Challenge 2025</p>
                    </div>
                    
                </div>
            </div>
            <div class="flex items-center space-x-6">
                <a href="main2.html" 
   class="inline-block bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-4 rounded shadow-md transition-all duration-200">
   Open Rudder Activities
</a>

                <div class="text-xs font-mono">
                    <div class="text-gray-300">Mission Status:</div>
                    <div id="mission-status" class="status-online font-bold">OPERATIONAL</div>
                </div>
                <div class="text-xs font-mono">
                    <div class="text-gray-300">Mission Status:</div>
                    <div id="mission-status" class="status-online font-bold">OPERATIONAL</div>
                </div>
                <div class="text-xs font-mono">
                    <div class="text-gray-300">Active Satellites:</div>
                    <div class="text-cyan-400 font-bold">12 ONLINE</div>
                </div>
                <div class="text-xs font-mono">
                    <div class="text-gray-300">Data Rate:</div>
                    <div id="data-rate" class="text-green-400 font-bold">2.3 GB/s</div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Loading Screen -->
<!-- Loading Screen -->
<div id="loading-screen" class="fixed inset-0 bg-black flex items-center justify-center z-50">
  <div class="text-center flex flex-col items-center">
    <div class="text-6xl font-bold neon-text text-cyan-400 mb-8">COSMIC EXPLORER</div>
    <div class="text-2xl text-green-400 mb-4">COSMORUDDER</div>

    <!-- Progress Bar -->
    <div class="w-56 h-4 bg-gray-900 rounded-full overflow-hidden mb-6">
      <div id="loading-bar" class="h-full bg-gradient-to-r from-cyan-400 to-green-400 rounded-full transition-all duration-300" style="width: 0%"></div>
    </div>

    <!-- Loading Text -->
    <div id="loading-text" class="text-sm font-mono text-gray-300">Initializing...</div>
  </div>
</div>


    <!-- Main Scene -->
    <div id="scene-container" class="w-full h-screen relative" style="margin-top: 80px;"></div>

    <!-- Performance Stats -->
    <div id="stats" class="fixed top-24 left-4 z-40"></div>

    <!-- Left Control Panel -->
    <div class="fixed left-4 top-32 control-panel rounded-lg p-4 w-80">
        <div class="flex items-center mb-4">
            <span class="material-icons text-cyan-400 mr-3 text-2xl">settings</span>
            <h3 class="text-lg font-bold neon-text text-cyan-400">Motion Controls</h3>
        </div>
        
        <!-- Revolution Speed -->
        <div class="mb-6">
            <div class="flex justify-between items-center mb-2">
                <label class="text-sm text-green-400 font-medium">Orbital Revolution Speed:</label>
                <span id="revolution-speed-value" class="text-xs text-white font-mono">1.0x</span>
            </div>
            <input type="range" id="revolution-speed" min="0.1" max="5.0" step="0.1" value="1.0" 
                   class="w-full accent-cyan-400 cursor-pointer mb-2">
            <div class="speed-indicator h-2 rounded-full">
                <div id="revolution-indicator" class="h-full bg-green-400 rounded-full transition-all duration-300" style="width: 20%"></div>
            </div>
        </div>

        <!-- Rotation Speed -->
        <div class="mb-6">
            <div class="flex justify-between items-center mb-2">
                <label class="text-sm text-green-400 font-medium">Planetary Rotation Speed:</label>
                <span id="rotation-speed-value" class="text-xs text-white font-mono">1.0x</span>
            </div>
            <input type="range" id="rotation-speed" min="0.1" max="10.0" step="0.1" value="1.0" 
                   class="w-full accent-green-400 cursor-pointer mb-2">
            <div class="speed-indicator h-2 rounded-full">
                <div id="rotation-indicator" class="h-full bg-green-400 rounded-full transition-all duration-300" style="width: 10%"></div>
            </div>
        </div>

        <!-- Quick Presets -->
        <div class="mb-4">
            <label class="text-sm text-green-400 font-medium mb-2 block">Quick Presets:</label>
            <div class="grid grid-cols-3 gap-2">
                <button id="preset-slow" class="bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded text-xs font-medium transition-colors">
                    SLOW
                </button>
                <button id="preset-normal" class="bg-green-600 hover:bg-green-700 px-3 py-2 rounded text-xs font-medium transition-colors">
                    NORMAL
                </button>
                <button id="preset-fast" class="bg-red-600 hover:bg-red-700 px-3 py-2 rounded text-xs font-medium transition-colors">
                    FAST
                </button>
            </div>
        </div>

        <!-- Animation Control -->
        <div class="border-t border-gray-600 pt-4">
            <button id="pause-animation" class="w-full bg-orange-600 hover:bg-orange-700 px-4 py-3 rounded font-medium flex items-center justify-center transition-colors">
                <span class="material-icons text-base mr-2">pause</span>
                PAUSE ANIMATION
            </button>
        </div>
    </div>

    <!-- Right SAR Control Panel -->
    <div class="fixed right-4 top-32 control-panel rounded-lg p-4 w-80">
        <div class="flex items-center mb-4">
            <span class="material-icons text-cyan-400 mr-3 radar-pulse text-2xl">radar</span>
            <h3 class="text-lg font-bold neon-text text-cyan-400">SAR Command Center</h3>
        </div>
        
        <div class="space-y-4">
            <!-- SAR Configuration -->
            <div class="control-item relative">
                <label class="text-sm text-green-400 font-medium block mb-2">Frequency Band:</label>
                <select id="radar-frequency" class="w-full bg-gray-900 border border-cyan-400 rounded px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-400">
                    <option value="L">L-Band (1-2 GHz) - Deep Penetration</option>
                    <option value="S">S-Band (2-4 GHz) - Agriculture/Ice</option>
                    <option value="C">C-Band (4-8 GHz) - Ocean/Urban</option>
                    <option value="X">X-Band (8-12 GHz) - High Resolution</option>
                </select>
                <div class="tooltip">Select optimal frequency for target analysis</div>
            </div>

            <div class="control-item relative">
                <label class="text-sm text-green-400 font-medium block mb-2">Polarization Mode:</label>
                <select id="polarization" class="w-full bg-gray-900 border border-cyan-400 rounded px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-400">
                    <option value="VV">VV - Surface Roughness</option>
                    <option value="HH">HH - Surface Orientation</option>
                    <option value="VH">VH - Volume Scattering</option>
                    <option value="HV">HV - Structural Analysis</option>
                </select>
                <div class="tooltip">Choose polarization for specific surface features</div>
            </div>

            <!-- Scan Controls -->
            <div class="border-t border-gray-600 pt-4">
                <button id="scan-toggle" class="w-full bg-green-600 hover:bg-green-700 px-4 py-3 rounded font-medium flex items-center justify-center transition-colors mb-3">
                    <span class="material-icons text-base mr-2">play_arrow</span>
                    INITIATE SAR SCAN
                </button>
                
                <div class="grid grid-cols-2 gap-2">
                    <button id="reset-view" class="bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded text-xs font-medium flex items-center justify-center transition-colors">
                        <span class="material-icons text-sm mr-1">refresh</span>
                        RESET
                    </button>
                    <button id="toggle-orbits" class="bg-purple-600 hover:bg-purple-700 px-3 py-2 rounded text-xs font-medium flex items-center justify-center transition-colors">
                        <span class="material-icons text-sm mr-1">track_changes</span>
                        ORBITS
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Planet Data Panel -->
    <div id="planet-info" class="fixed top-32 right-4 control-panel rounded-lg p-4 w-80 hidden z-50">
        <div class="flex items-center justify-between mb-4">
            <div class="flex items-center">
                <span class="material-icons text-yellow-400 mr-3 text-2xl">public</span>
                <h3 id="planet-name" class="text-lg font-bold neon-text text-yellow-400"></h3>
            </div>
            <button id="close-planet-info" class="text-gray-400 hover:text-white transition-colors">
                <span class="material-icons">close</span>
            </button>
        </div>
        
        <div class="space-y-4">
            <div class="text-sm text-gray-300 font-mono">SAR Analysis Results:</div>
            <div id="planet-data" class="text-sm text-green-400 font-mono leading-relaxed"></div>
            
            <!-- Real-time Metrics -->
            <div class="border-t border-gray-600 pt-4">
                <div class="text-xs text-gray-300 mb-3">Real-time Metrics:</div>
                <div class="grid grid-cols-2 gap-4 text-xs font-mono">
                    <div>
                        <div class="text-gray-400">Orbital Period:</div>
                        <div id="orbital-period" class="text-cyan-400"></div>
                    </div>
                    <div>
                        <div class="text-gray-400">Rotation Period:</div>
                        <div id="rotation-period" class="text-green-400"></div>
                    </div>
                    <div>
                        <div class="text-gray-400">Distance (AU):</div>
                        <div id="distance-au" class="text-yellow-400"></div>
                    </div>
                    <div>
                        <div class="text-gray-400">Diameter (km):</div>
                        <div id="diameter-km" class="text-purple-400"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Status Bar -->
    <div class="fixed bottom-0 left-0 right-0 navbar-glass px-6 py-3">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-8">
                <div class="flex items-center">
                    <div id="system-status" class="w-3 h-3 bg-green-400 rounded-full mr-2 radar-pulse"></div>
                    <span class="text-sm text-green-400 font-mono">SYSTEM ONLINE</span>
                </div>
                
                <div class="text-xs font-mono">
                    <span class="text-gray-300">Rev Speed: </span>
                    <span id="current-rev-speed" class="text-cyan-400">1.0x</span>
                </div>
                
                <div class="text-xs font-mono">
                    <span class="text-gray-300">Rot Speed: </span>
                    <span id="current-rot-speed" class="text-green-400">1.0x</span>
                </div>
            </div>
            
            <div class="text-xs font-mono text-gray-300">
                NASA Space Apps Challenge 2025 || SAR Monitoring System v2.5
            </div>
        </div>
    </div>

    <script>
        // Core Three.js components
        let scene, camera, renderer, controls, stats;
        let planets = [], asteroids = [], radarBeams = [], orbits = [];
        let animationId, isScanning = false, isPaused = false;
        let revolutionSpeed = 1.0, rotationSpeed = 1.0;
        let raycaster = new THREE.Raycaster();
        let mouse = new THREE.Vector2();
        let clock = new THREE.Clock();

        // Enhanced planet data with realistic rotation and orbital periods
        const planetData = [
            {
                name: "Mercury",
                distance: 3,
                size: 0.15,
                revolutionPeriod: 88, // days
                rotationPeriod: 59, 
                        "texture": "textures/mercury.jpg",
        "textureFallback": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128'%3E%3Cdefs%3E%3CradialGradient id='mercury' cx='50%25' cy='50%25' r='50%25'%3E%3Cstop offset='0%25' stop-color='%23b0b0b0'/%3E%3Cstop offset='100%25' stop-color='%23666666'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='64' cy='64' r='64' fill='url(%23mercury)'/%3E%3C/svg%3E",
                sarData: "High radar backscatter from metallic regolith. Extreme temperature variations detected.",
                color: 0xb0b0b0,
                realDiameter: 4879 // km
            },
            {
                name: "Venus",
                distance: 4,
                size: 0.25,
                revolutionPeriod: 225,
                rotationPeriod: -243, // retrograde rotation
                "texture": "textures/venus.jpg",
                        "textureFallback": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128'%3E%3Cdefs%3E%3CradialGradient id='venus' cx='50%25' cy='50%25' r='50%25'%3E%3Cstop offset='0%25' stop-color='%23ffd700'/%3E%3Cstop offset='100%25' stop-color='%23cc9900'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='64' cy='64' r='64' fill='url(%23venus)'/%3E%3C/svg%3E",

                sarData: "Dense CO‚ÇÇ atmosphere penetrated. Volcanic terrain and tessera formations identified.",
                color: 0xffd700,
                realDiameter: 12104
            },
            {
                name: "Earth",
                distance: 5,
                size: 0.3,
                revolutionPeriod: 365.25,
                rotationPeriod: 1,
                "texture": "textures/earth.jpg",
                        "textureFallback": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128'%3E%3Cdefs%3E%3CradialGradient id='earth' cx='50%25' cy='50%25' r='50%25'%3E%3Cstop offset='0%25' stop-color='%2300b7eb'/%3E%3Cstop offset='50%25' stop-color='%2332cd32'/%3E%3Cstop offset='100%25' stop-color='%23006400'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='64' cy='64' r='64' fill='url(%23earth)'/%3E%3C/svg%3E",

                sarData: "Complex surface features: oceans, continents, weather systems. Active biosphere detected.",
                color: 0x00b7eb,
                realDiameter: 12756
            },
            {
                name: "Mars",
                distance: 6.5,
                size: 0.2,
                revolutionPeriod: 687,
                rotationPeriod: 1.03,
                "texture": "textures/mars.jpg",
                        "textureFallback": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128'%3E%3Cdefs%3E%3CradialGradient id='mars' cx='50%25' cy='50%25' r='50%25'%3E%3Cstop offset='0%25' stop-color='%23d2691e'/%3E%3Cstop offset='100%25' stop-color='%23964100'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='64' cy='64' r='64' fill='url(%23mars)'/%3E%3C/svg%3E",

                sarData: "Iron oxide regolith with subsurface ice deposits. Ancient river valleys detected.",
                color: 0xd2691e,
                realDiameter: 6792
            },
            {
                name: "Jupiter",
                distance: 9,
                size: 0.8,
                revolutionPeriod: 4333,
                rotationPeriod: 0.41,
                "texture": "textures/jupiter.jpg",
                        "textureFallback": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128'%3E%3Cdefs%3E%3CradialGradient id='jupiter' cx='50%25' cy='50%25' r='50%25'%3E%3Cstop offset='0%25' stop-color='%23deb887'/%3E%3Cstop offset='100%25' stop-color='%23a0522d'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='64' cy='64' r='64' fill='url(%23jupiter)'/%3E%3C/svg%3E",

                sarData: "Gas giant with complex atmospheric bands. Strong radio emissions detected.",
                color: 0xdeb887,
                realDiameter: 142984
            },
            {
                name: "Saturn",
                distance: 12,
                size: 0.7,
                revolutionPeriod: 10759,
                rotationPeriod: 0.45,
                "texture": "textures/saturn.jpg",
                        "textureFallback": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128'%3E%3Cdefs%3E%3CradialGradient id='saturn' cx='50%25' cy='50%25' r='50%25'%3E%3Cstop offset='0%25' stop-color='%23f4e4bc'/%3E%3Cstop offset='100%25' stop-color='%23b8860b'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='64' cy='64' r='64' fill='url(%23saturn)'/%3E%3C/svg%3E",
                sarData: "Prominent ring system detected. Water ice composition confirmed.",
                color: 0xf4e4bc,
                realDiameter: 120536,
                hasRings: true
            },
            {
                name: "Uranus",
                distance: 16,
                size: 0.6,
                revolutionPeriod: 30687,
                rotationPeriod: 0.72,
                "texture": "textures/uranus.jpg",
                        "textureFallback": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128'%3E%3Cdefs%3E%3CradialGradient id='uranus' cx='50%25' cy='50%25' r='50%25'%3E%3Cstop offset='0%25' stop-color='%2300ffff'/%3E%3Cstop offset='100%25' stop-color='%23006666'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='64' cy='64' r='64' fill='url(%23uranus)'/%3E%3C/svg%3E",

                sarData: "Ice giant with methane atmosphere. Tilted axis causes extreme seasonal variations.",
                color: 0x00ffff,
                realDiameter: 51118
            },
            {
                name: "Neptune",
                distance: 19,
                size: 0.58,
                revolutionPeriod: 60190,
                rotationPeriod: 0.67,
                "texture": "textures/neptune.jpg",
                        "textureFallback": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128'%3E%3Cdefs%3E%3CradialGradient id='neptune' cx='50%25' cy='50%25' r='50%25'%3E%3Cstop offset='0%25' stop-color='%230000ff'/%3E%3Cstop offset='100%25' stop-color='%23003366'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='64' cy='64' r='64' fill='url(%23neptune)'/%3E%3C/svg%3E",

                sarData: "Strong winds and active storm systems. Faint ring system detected.",
                color: 0x0000ff,
                realDiameter: 49528
            }
        ];

        function init() {
            // Scene setup
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x000011);

            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 15, 20);
            camera.lookAt(0, 0, 0);

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.setSize(window.innerWidth, window.innerHeight - 160); // Account for navbar and status bar
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            document.getElementById('scene-container').appendChild(renderer.domElement);

            // Orbit controls
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.minDistance = 3;
            controls.maxDistance = 60;

            // Performance stats
            stats = new Stats();
            stats.dom.style.position = 'absolute';
            document.getElementById('stats').appendChild(stats.dom);

            // Lighting setup
            setupLighting();
            
            // Create solar system
            createSun();
            createPlanets();
            createAsteroidBelt();
            createStarField();
            createOrbits();

            // Event listeners
            setupEventListeners();

            // Loading simulation
            simulateLoading();

            // Start animation
            animate();
        }

        function setupLighting() {
            // Ambient light
            const ambientLight = new THREE.AmbientLight(0x404040, 0.3);
            scene.add(ambientLight);

            // Sun light
            const sunLight = new THREE.PointLight(0xffffff, 3, 200, 2);
            sunLight.position.set(0, 0, 0);
            sunLight.castShadow = true;
            sunLight.shadow.mapSize.width = 2048;
            sunLight.shadow.mapSize.height = 2048;
            sunLight.shadow.camera.near = 0.5;
            sunLight.shadow.camera.far = 50;
            scene.add(sunLight);
        }

        function createSun() {
            const geometry = new THREE.SphereGeometry(1, 64, 64);
            const textureLoader = new THREE.TextureLoader();
            
            // Create sun texture programmatically
            const sunTexture = textureLoader.load("textures/sun.jpg");
            
            const material = new THREE.MeshBasicMaterial({ 
                map: sunTexture,
                emissive: 0xffff00,
                emissiveIntensity: 0.6
            });
            const sun = new THREE.Mesh(geometry, material);
            scene.add(sun);

            // Solar corona effect
            const coronaGeometry = new THREE.SphereGeometry(1.3, 64, 64);
            const coronaMaterial = new THREE.MeshBasicMaterial({
                color: 0xffaa00,
                transparent: true,
                opacity: 0.005,
                side: THREE.BackSide
            });
            const corona = new THREE.Mesh(coronaGeometry, coronaMaterial);
            scene.add(corona);
        }

        function createPlanets() {
            const textureLoader = new THREE.TextureLoader();
            
            planetData.forEach((data, index) => {
                const geometry = new THREE.SphereGeometry(data.size, 64, 64);
                const texture = textureLoader.load(data.texture);
                const material = new THREE.MeshPhongMaterial({ 
                    map: texture,
                    shininess: 20,
                    specular: 0x222222
                });
                
                const planet = new THREE.Mesh(geometry, material);
                planet.position.set(data.distance, 0, 0);
                planet.userData = { 
                    ...data, 
                    revolutionAngle: 0,
                    rotationAngle: 0,
                    index: index
                };
                planet.castShadow = true;
                planet.receiveShadow = true;
                scene.add(planet);
                planets.push(planet);

                // Add atmosphere for terrestrial planets
                if (['Earth', 'Venus', 'Mars'].includes(data.name)) {
                    const atmoGeometry = new THREE.SphereGeometry(data.size * 1.08, 32, 32);
                    const atmoColor = data.name === 'Earth' ? 0x87ceeb : 
                                     data.name === 'Venus' ? 0xffd700 : 0xff9999;
                    const atmoMaterial = new THREE.MeshBasicMaterial({
                        color: atmoColor,
                        transparent: true,
                        opacity: 0.15,
                        side: THREE.BackSide
                    });
                    const atmosphere = new THREE.Mesh(atmoGeometry, atmoMaterial);
                    planet.add(atmosphere);
                }

                if (data.hasRings) {
    const ringGeometry = new THREE.RingGeometry(data.size * 1.3, data.size * 2.2, 64);
    
    // Load your local texture file properly
    const ringTexture = textureLoader.load('textures/saturn_ring.png'); // Use relative path from your project root
    
    const ringMaterial = new THREE.MeshLambertMaterial({
        map: ringTexture,
        side: THREE.DoubleSide,
        transparent: true,
        
    });
    
    const rings = new THREE.Mesh(ringGeometry, ringMaterial);
    rings.rotation.x = Math.PI / 2;
    rings.rotation.z = Math.PI / 12; // Slight tilt
    planet.add(rings);
}

            });
        }

        function createAsteroidBelt() {
            const asteroidGeometry = new THREE.OctahedronGeometry(0.015, 0);
            
            for (let i = 0; i < 800; i++) {
                const material = new THREE.MeshPhongMaterial({ 
                    color: 0x666666 + Math.random() * 0x444444,
                    shininess: 5
                });
                const asteroid = new THREE.Mesh(asteroidGeometry, material);
                const angle = Math.random() * Math.PI * 2;
                const distance = 7.2 + Math.random() * 1.6;
                const height = (Math.random() - 0.5) * 0.4;

                asteroid.position.set(
                    Math.cos(angle) * distance,
                    height,
                    Math.sin(angle) * distance
                );
                asteroid.rotation.set(
                    Math.random() * Math.PI,
                    Math.random() * Math.PI,
                    Math.random() * Math.PI
                );
                asteroid.userData = { 
                    angle: angle,
                    distance: distance,
                    rotationSpeed: 0.001 + Math.random() * 0.002
                };
                scene.add(asteroid);
                asteroids.push(asteroid);
            }
        }

        function createStarField() {
            const starsGeometry = new THREE.BufferGeometry();
            const starsCount = 8000;
            const positions = new Float32Array(starsCount * 3);
            const colors = new Float32Array(starsCount * 3);

            for (let i = 0; i < starsCount; i++) {
                positions[i * 3] = (Math.random() - 0.5) * 400;
                positions[i * 3 + 1] = (Math.random() - 0.5) * 400;
                positions[i * 3 + 2] = (Math.random() - 0.5) * 400;
                
                const color = new THREE.Color().setHSL(0.6 + Math.random() * 0.4, 0.3, 0.5 + Math.random() * 0.5);
                colors[i * 3] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;
            }

            starsGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            starsGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            const starsMaterial = new THREE.PointsMaterial({ 
                size: 0.4,
                transparent: true,
                vertexColors: true,
                sizeAttenuation: true
            });
            const stars = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(stars);
        }

        function createOrbits() {
            planetData.forEach(data => {
                const points = [];
                const segments = 128;
                for (let i = 0; i <= segments; i++) {
                    const angle = (i / segments) * Math.PI * 2;
                    points.push(new THREE.Vector3(
                        Math.cos(angle) * data.distance,
                        0,
                        Math.sin(angle) * data.distance
                    ));
                }
                const geometry = new THREE.BufferGeometry().setFromPoints(points);
                const material = new THREE.LineBasicMaterial({ 
                    color: 0x00ffff,
                    transparent: true,
                    opacity: 0.3
                });
                const orbit = new THREE.Line(geometry, material);
                scene.add(orbit);
                orbits.push(orbit);
            });
        }

        function updatePlanets() {
            if (isPaused) return;
            
            const deltaTime = clock.getDelta();
            
            planets.forEach((planet) => {
                const data = planet.userData;
                
                // Calculate revolution (orbital motion around sun)
                const baseRevolutionSpeed = (2 * Math.PI) / (data.revolutionPeriod * 0.1); // Scaled for visualization
                data.revolutionAngle += baseRevolutionSpeed * deltaTime * revolutionSpeed;
                
                // Update orbital position around sun (center at 0,0,0)
                planet.position.set(
                    Math.cos(data.revolutionAngle) * data.distance,
                    0,
                    Math.sin(data.revolutionAngle) * data.distance
                );
                
                // Calculate rotation (spinning on own axis)
                const baseRotSpeed = (2 * Math.PI) / (Math.abs(data.rotationPeriod) * 0.05); // Scaled for visibility
                const rotationDirection = data.rotationPeriod < 0 ? -1 : 1; // Venus rotates backwards
                data.rotationAngle += baseRotSpeed * deltaTime * rotationSpeed * rotationDirection;
                planet.rotation.y = data.rotationAngle;
                
                // Create SAR beams during scanning
                if (isScanning && Math.random() < 0.003) {
                    createRadarBeam(planet);
                }
            });

            // Update asteroid belt
            asteroids.forEach(asteroid => {
                const data = asteroid.userData;
                asteroid.rotation.x += data.rotationSpeed * rotationSpeed;
                asteroid.rotation.y += data.rotationSpeed * rotationSpeed * 0.7;
                asteroid.rotation.z += data.rotationSpeed * rotationSpeed * 0.5;
                
                // Orbital motion
                data.angle += 0.0001 * revolutionSpeed;
                asteroid.position.set(
                    Math.cos(data.angle) * data.distance,
                    asteroid.position.y,
                    Math.sin(data.angle) * data.distance
                );
            });
        }

        function createRadarBeam(planet) {
            const beamGeometry = new THREE.ConeGeometry(1.3, 3.9, 16, 1, true);
            const beamMaterial = new THREE.MeshBasicMaterial({ 
                color: 0x00ff00,
                transparent: true,
                opacity: 0.7,
                wireframe: true
            });
            const beam = new THREE.Mesh(beamGeometry, beamMaterial);
            beam.position.copy(planet.position);
            beam.position.y += 3.5;
            beam.lookAt(planet.position);
            scene.add(beam);
            radarBeams.push(beam);

            // Animate beam
            const startTime = Date.now();
            const animateBeam = () => {
                const elapsed = (Date.now() - startTime) / 1500;
                if (elapsed >= 1) {
                    scene.remove(beam);
                    const index = radarBeams.indexOf(beam);
                    if (index > -1) radarBeams.splice(index, 1);
                    return;
                }
                beam.material.opacity = 0.7 * (1 - elapsed);
                beam.scale.y = 1 + elapsed * 0.5;
                requestAnimationFrame(animateBeam);
            };
            animateBeam();
        }

        function setupEventListeners() {
            // Planet click detection
            renderer.domElement.addEventListener('click', (event) => {
                event.preventDefault();
                mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                mouse.y = -((event.clientY - 80) / (window.innerHeight - 160)) * 2 + 1;
                
                raycaster.setFromCamera(mouse, camera);
                const intersects = raycaster.intersectObjects(planets);
                
                if (intersects.length > 0) {
                    const planet = intersects[0].object;
                    showPlanetInfo(planet.userData);
                    createRadarBeam(planet);
                    
                    // Focus camera on planet
                    controls.target.copy(planet.position);
                    controls.update();
                } else {
                    hidePlanetInfo();
                }
            });

            // Speed controls
            document.getElementById('revolution-speed').addEventListener('input', (e) => {
                revolutionSpeed = parseFloat(e.target.value);
                document.getElementById('revolution-speed-value').textContent = revolutionSpeed.toFixed(1) + 'x';
                document.getElementById('current-rev-speed').textContent = revolutionSpeed.toFixed(1) + 'x';
                updateSpeedIndicator('revolution', revolutionSpeed, 5.0);
            });

            document.getElementById('rotation-speed').addEventListener('input', (e) => {
                rotationSpeed = parseFloat(e.target.value);
                document.getElementById('rotation-speed-value').textContent = rotationSpeed.toFixed(1) + 'x';
                document.getElementById('current-rot-speed').textContent = rotationSpeed.toFixed(1) + 'x';
                updateSpeedIndicator('rotation', rotationSpeed, 10.0);
            });

            // Preset buttons
            document.getElementById('preset-slow').addEventListener('click', () => setPreset(0.3, 0.5));
            document.getElementById('preset-normal').addEventListener('click', () => setPreset(1.0, 1.0));
            document.getElementById('preset-fast').addEventListener('click', () => setPreset(3.0, 5.0));

            // Animation control
            document.getElementById('pause-animation').addEventListener('click', () => {
                isPaused = !isPaused;
                const button = document.getElementById('pause-animation');
                const statusElement = document.getElementById('mission-status');
                
                if (isPaused) {
                    button.innerHTML = '<span class="material-icons text-base mr-2">play_arrow</span> RESUME ANIMATION';
                    button.classList.replace('bg-orange-600', 'bg-green-600');
                    button.classList.replace('hover:bg-orange-700', 'hover:bg-green-700');
                    statusElement.textContent = 'PAUSED';
                    statusElement.className = 'status-offline font-bold';
                } else {
                    button.innerHTML = '<span class="material-icons text-base mr-2">pause</span> PAUSE ANIMATION';
                    button.classList.replace('bg-green-600', 'bg-orange-600');
                    button.classList.replace('hover:bg-green-700', 'hover:bg-orange-700');
                    statusElement.textContent = 'OPERATIONAL';
                    statusElement.className = 'status-online font-bold';
                }
            });

            // SAR controls
            document.getElementById('scan-toggle').addEventListener('click', () => {
                isScanning = !isScanning;
                const button = document.getElementById('scan-toggle');
                const statusElement = document.getElementById('mission-status');
                
                if (isScanning) {
                    button.innerHTML = '<span class="material-icons text-base mr-2">stop</span> TERMINATE SCAN';
                    button.classList.replace('bg-green-600', 'bg-red-600');
                    button.classList.replace('hover:bg-green-700', 'hover:bg-red-700');
                    statusElement.textContent = 'SCANNING';
                    statusElement.className = 'status-scanning font-bold';
                } else {
                    button.innerHTML = '<span class="material-icons text-base mr-2">play_arrow</span> INITIATE SAR SCAN';
                    button.classList.replace('bg-red-600', 'bg-green-600');
                    button.classList.replace('hover:bg-red-700', 'hover:bg-green-700');
                    statusElement.textContent = 'OPERATIONAL';
                    statusElement.className = 'status-online font-bold';
                }
            });

            // Other controls
            document.getElementById('reset-view').addEventListener('click', () => {
                camera.position.set(0, 15, 20);
                controls.target.set(0, 0, 0);
                controls.update();
            });

            document.getElementById('toggle-orbits').addEventListener('click', () => {
                orbits.forEach(orbit => {
                    orbit.visible = !orbit.visible;
                });
            });

            document.getElementById('close-planet-info').addEventListener('click', hidePlanetInfo);

            // Window resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight - 160);
            });

            // Keyboard shortcuts
            window.addEventListener('keydown', (event) => {
                switch (event.key.toLowerCase()) {
                    case ' ': // Spacebar - pause/resume
                        event.preventDefault();
                        document.getElementById('pause-animation').click();
                        break;
                    case 'r': // Reset view
                        document.getElementById('reset-view').click();
                        break;
                    case 'o': // Toggle orbits
                        document.getElementById('toggle-orbits').click();
                        break;
                    case 's': // Toggle scanning
                        document.getElementById('scan-toggle').click();
                        break;
                    case '1': // Slow preset
                        document.getElementById('preset-slow').click();
                        break;
                    case '2': // Normal preset
                        document.getElementById('preset-normal').click();
                        break;
                    case '3': // Fast preset
                        document.getElementById('preset-fast').click();
                        break;
                }
            });
        }

        function setPreset(revSpeed, rotSpeed) {
            revolutionSpeed = revSpeed;
            rotationSpeed = rotSpeed;
            
            document.getElementById('revolution-speed').value = revSpeed;
            document.getElementById('rotation-speed').value = rotSpeed;
            document.getElementById('revolution-speed-value').textContent = revSpeed.toFixed(1) + 'x';
            document.getElementById('rotation-speed-value').textContent = rotSpeed.toFixed(1) + 'x';
            document.getElementById('current-rev-speed').textContent = revSpeed.toFixed(1) + 'x';
            document.getElementById('current-rot-speed').textContent = rotSpeed.toFixed(1) + 'x';
            
            updateSpeedIndicator('revolution', revSpeed, 5.0);
            updateSpeedIndicator('rotation', rotSpeed, 10.0);
        }

        function updateSpeedIndicator(type, value, max) {
            const percentage = (value / max) * 100;
            const indicator = document.getElementById(type + '-indicator');
            indicator.style.width = Math.min(percentage, 100) + '%';
            
            // Color coding
            if (percentage < 30) {
                indicator.className = 'h-full bg-green-400 rounded-full transition-all duration-300';
            } else if (percentage < 70) {
                indicator.className = 'h-full bg-yellow-400 rounded-full transition-all duration-300';
            } else {
                indicator.className = 'h-full bg-red-400 rounded-full transition-all duration-300';
            }
        }

        function showPlanetInfo(data) {
            document.getElementById('planet-name').textContent = data.name;
            document.getElementById('planet-data').textContent = data.sarData;
            document.getElementById('orbital-period').textContent = data.revolutionPeriod + ' days';
            document.getElementById('rotation-period').textContent = Math.abs(data.rotationPeriod) + ' days' + (data.rotationPeriod < 0 ? ' (retrograde)' : '');
            document.getElementById('distance-au').textContent = (data.distance * 0.1).toFixed(2) + ' AU';
            document.getElementById('diameter-km').textContent = data.realDiameter.toLocaleString() + ' km';
            document.getElementById('planet-info').classList.remove('hidden');
        }

        function hidePlanetInfo() {
            document.getElementById('planet-info').classList.add('hidden');
        }

        // loading.js

function simulateLoading() {
    const loadingBar = document.getElementById('loading-bar');
    const loadingText = document.getElementById('loading-text');
    const loadingScreen = document.getElementById('loading-screen');

    // Step 1: 0% ‚Üí 80%
    setTimeout(() => {
        loadingBar.style.width = "80%";
        loadingText.textContent = "Initializing...";
    }, 50);

    // Step 2: 80% ‚Üí 100% + fade-out
    setTimeout(() => {
        loadingBar.style.width = "100%";
        loadingText.textContent = "System Ready!";
        
        // Fade-out
        setTimeout(() => {
            loadingScreen.style.opacity = "0";
            setTimeout(() => {
                loadingScreen.style.display = "none";
            }, 300);
        }, 50);
    }, 150); 
}

window.onload = simulateLoading;



        function animate() {
            animationId = requestAnimationFrame(animate);
            updatePlanets();
            controls.update();
            stats.update();
            renderer.render(scene, camera);
            
            // Update data rate display
            const dataRate = (2.1 + Math.sin(Date.now() * 0.001) * 0.4).toFixed(1);
            document.getElementById('data-rate').textContent = dataRate + ' GB/s';
        }

        // Initialize the application
        init();
        
        console.log('üöÄ Professional SAR Monitoring System v2.5 Initialized');
        console.log('üéØ NASA Space Apps Challenge 2025');
        console.log('üì° Features: Realistic planetary mechanics, professional UI, Saturn rings');
        console.log('‚å®Ô∏è  Keyboard shortcuts: Space=Pause, R=Reset, O=Orbits, S=Scan, 1/2/3=Presets');
    </script>
</body>
</html>